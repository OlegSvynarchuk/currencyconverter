[{"/home/olegsvyn/projects/converter/src/index.js":"1","/home/olegsvyn/projects/converter/src/App.js":"2","/home/olegsvyn/projects/converter/src/components/converter/index.jsx":"3","/home/olegsvyn/projects/converter/src/components/header/index.jsx":"4","/home/olegsvyn/projects/converter/src/components/converterCurrencyPair/index.jsx":"5"},{"size":257,"mtime":1651323141147,"results":"6","hashOfConfig":"7"},{"size":263,"mtime":1651435268738,"results":"8","hashOfConfig":"7"},{"size":203,"mtime":1651472800969,"results":"9","hashOfConfig":"7"},{"size":1478,"mtime":1651473180936,"results":"10","hashOfConfig":"7"},{"size":3218,"mtime":1651473433040,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","suppressedMessages":"14","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"hto91a",{"filePath":"15","messages":"16","suppressedMessages":"17","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"18","messages":"19","suppressedMessages":"20","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"21","messages":"22","suppressedMessages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24"},{"filePath":"25","messages":"26","suppressedMessages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28"},"/home/olegsvyn/projects/converter/src/index.js",[],[],"/home/olegsvyn/projects/converter/src/App.js",[],[],"/home/olegsvyn/projects/converter/src/components/converter/index.jsx",[],[],"/home/olegsvyn/projects/converter/src/components/header/index.jsx",["29"],[],"import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nexport default function Header() {\n  const endpoints = [\n    'https://api.getgeoapi.com/v2/currency/convert?api_key=77eed905a93a78d05adb55ce7db36955d7be8453&from=EUR&to=UAH&amount=1',\n    'https://api.getgeoapi.com/v2/currency/convert?api_key=77eed905a93a78d05adb55ce7db36955d7be8453&from=USD&to=UAH&amount=1',\n  ];\n\n  const [currencyPairs, setCurrencyPairs] = useState([]);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    axios\n      .all(endpoints.map((endpoint) => axios.get(endpoint)))\n      .then((res) =>\n        res.map((item) => {\n          const pair = {\n            from: item.data.base_currency_code,\n            to: Object.keys(item.data.rates)[0],\n            rate: item.data.rates.UAH.rate,\n          };\n          return pair;\n        })\n      )\n      .then((result) => setCurrencyPairs(result))\n      .catch((err) => setError(err.response.data.error.message));\n  }, []);\n\n  return (\n    <div className=\"header\">\n      <div className=\"logo\">Currency Converter</div>\n      <ul className=\"header-currencies\">\n        {currencyPairs.length > 0 &&\n          currencyPairs.map((currencyPair) => {\n            return (\n              <li key={currencyPair.from}>\n                1 {currencyPair.from} = {currencyPair.rate} {currencyPair.to}\n              </li>\n            );\n          })}\n      </ul>\n      {error && <p className=\"error\">{error}</p>}\n    </div>\n  );\n}\n","/home/olegsvyn/projects/converter/src/components/converterCurrencyPair/index.jsx",["30"],[],"import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\n\nexport default function ConverterCurrencyPair() {\n  const [amount, setAmount] = useState(null);\n  const [inputName, setInputName] = useState('');\n  const [from, setFromCurrency] = useState('');\n  const [to, setToCurrency] = useState('');\n  const [result, setResult] = useState(null);\n  const [backendError, setBackendError] = useState(null);\n  const [inputError, setInputError] = useState(null);\n\n  function validateInput(input) {\n    const reg = new RegExp(/^\\d*(\\.)?(\\d{0,2})?$/);\n    return reg.test(input);\n  }\n\n  function handleCurrencyInput(e) {\n    setAmount(e.target.value);\n    setInputName(e.target.name);\n    if (!validateInput(e.target.value)) {\n      setInputError('numbers only please');\n    } else {\n      setInputError(null);\n    }\n  }\n\n  function handleFromCurrency(e) {\n    setFromCurrency(e.target.value);\n  }\n\n  function handleToCurrency(e) {\n    setToCurrency(e.target.value);\n  }\n\n  function handleRateRequest(amount = 0, from, to) {\n    const url =\n      inputName === 'left'\n        ? `https://api.getgeoapi.com/v2/currency/convert?api_key=77eed905a93a78d05adb55ce7db36955d7be8453&from=${from}&to=${to}&amount=${amount}`\n        : `https://api.getgeoapi.com/v2/currency/convert?api_key=77eed905a93a78d05adb55ce7db36955d7be8453&from=${to}&to=${from}&amount=${amount}`;\n    axios\n      .get(url)\n      .then((res) => setResult(res.data.rates[Object.keys(res.data.rates)[0]].rate_for_amount))\n      .catch((err) => setBackendError(err));\n  }\n\n  useEffect(() => {\n    if (!inputError && amount && from && to) {\n      handleRateRequest(amount, from, to);\n    } else {\n      setResult('');\n    }\n  }, [amount, from, to]);\n\n  return (\n    <>\n      <div className=\"converter\">\n        <input\n          className=\"amount-input\"\n          autocomplete=\"off\"\n          type=\"text\"\n          name=\"left\"\n          value={inputName === 'left' ? amount : result}\n          onChange={handleCurrencyInput}\n        />\n        <select name=\"left\" className=\"currency-select\" id=\"left\" onChange={handleFromCurrency}>\n          <option selected value=\"\" disabled>\n            {' '}\n            -- select currency --{' '}\n          </option>\n          <option value=\"USD\">USD</option>\n          <option value=\"EUR\">EUR</option>\n          <option value=\"UAH\">UAH</option>\n          <option value=\"RON\">RON</option>\n        </select>\n        <select name=\"right\" className=\"currency-select\" id=\"right\" onChange={handleToCurrency}>\n          <option selected value=\"\" disabled>\n            {' '}\n            -- select currency --{' '}\n          </option>\n          <option value=\"USD\">USD</option>\n          <option value=\"EUR\">EUR</option>\n          <option value=\"UAH\">UAH</option>\n          <option value=\"RON\">RON</option>\n        </select>\n        <input\n          className=\"amount-input\"\n          autocomplete=\"off\"\n          type=\"text\"\n          name=\"right\"\n          value={inputName === 'right' ? amount : result}\n          onChange={handleCurrencyInput}\n        ></input>\n      </div>\n      {inputError && <p className=\"error\">{inputError}</p>}\n      {backendError && <p className=\"error\">{backendError}</p>}\n    </>\n  );\n}\n",{"ruleId":"31","severity":1,"message":"32","line":28,"column":6,"nodeType":"33","endLine":28,"endColumn":8,"suggestions":"34"},{"ruleId":"31","severity":1,"message":"35","line":53,"column":6,"nodeType":"33","endLine":53,"endColumn":24,"suggestions":"36"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'endpoints'. Either include it or remove the dependency array.","ArrayExpression",["37"],"React Hook useEffect has missing dependencies: 'handleRateRequest' and 'inputError'. Either include them or remove the dependency array.",["38"],{"desc":"39","fix":"40"},{"desc":"41","fix":"42"},"Update the dependencies array to be: [endpoints]",{"range":"43","text":"44"},"Update the dependencies array to be: [amount, from, handleRateRequest, inputError, to]",{"range":"45","text":"46"},[982,984],"[endpoints]",[1699,1717],"[amount, from, handleRateRequest, inputError, to]"]